(this.webpackJsonpverification=this.webpackJsonpverification||[]).push([[0],{108:function(e){e.exports=JSON.parse('{"urlPath":"/certificate","certificatePublicKey":"-----BEGIN PUBLIC KEY-----\\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0i7R4XsyG3m6KD36qKEVxE+odCh68W2O4vLqh6SnsgItzvLYvJKPai+jEkf22FlPn0QnGo+Znyi6dw1lhvg9FGXqodv33yrqKhGLkQPeURaMnJidxktK/3QLXuv9HiKq9fSDLJyPBJEFCCCiZNTGgWM0dqq43/XRi+7IX3gWU68U6v/7EyOW3U4ZgYUVlfwbUh6eKRan68/TObQua39oeUfDMhJa0NHnMXb1lq/vQIjEgGkOK5LLyz+X8ETUEhn8Qdx2SIORmftCPW4XO0UZmMHuGw9t+UUgniy5BL8kmvtjpVRWFUliJFGBTvBZCO6gcoX5eXi8LytCg+mJ6EDO+QIDAQAB\\n-----END PUBLIC KEY-----\\n"}')},124:function(e,t){},129:function(e,t){},130:function(e,t){},133:function(e,t){},140:function(e,t,i){"use strict";(function(e){i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return l}));var a=i(9),n=i.n(a),c=i(36),r=i(58),o=i.n(r),s=i(50);function d(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(n.a.mark((function e(t){var i,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Headers,a="Bearer ".concat(t),i.append("Authorization",a),c={method:"GET",headers:i},e.abrupt("return",fetch(s.a.graphMeEndpoint,c).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(n.a.mark((function t(i,a){var c,r,d,u,l,p,h;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=new Headers,r="Bearer ".concat(i),c.append("Authorization",r),d={responseType:"arraybuffer",headers:c},u="image/jpeg",t.next=7,o.a.get(s.a.graphUserAvatarEndpoint(a),d);case 7:return l=t.sent,p=e.from(l.data).toString("base64"),h="data:".concat(u,";base64,").concat(p),t.abrupt("return",h);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,i(39).Buffer)},181:function(e,t){},186:function(e,t){},220:function(e,t,i){},221:function(e,t,i){},223:function(e,t,i){},224:function(e,t,i){},225:function(e,t,i){},248:function(e,t,i){},265:function(e,t){},275:function(e,t){},285:function(e,t){},286:function(e,t){},311:function(e,t){},312:function(e,t){},313:function(e,t){},319:function(e){e.exports=JSON.parse('{"@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","VerifiableCredential":{"@id":"https://www.w3.org/2018/credentials#VerifiableCredential","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","cred":"https://www.w3.org/2018/credentials#","sec":"https://w3id.org/security#","xsd":"http://www.w3.org/2001/XMLSchema#","credentialSchema":{"@id":"cred:credentialSchema","@type":"@id","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","cred":"https://www.w3.org/2018/credentials#","JsonSchemaValidator2018":"cred:JsonSchemaValidator2018"}},"credentialStatus":{"@id":"cred:credentialStatus","@type":"@id"},"credentialSubject":{"@id":"cred:credentialSubject","@type":"@id"},"evidence":{"@id":"cred:evidence","@type":"@id"},"expirationDate":{"@id":"cred:expirationDate","@type":"xsd:dateTime"},"holder":{"@id":"cred:holder","@type":"@id"},"issued":{"@id":"cred:issued","@type":"xsd:dateTime"},"issuer":{"@id":"cred:issuer","@type":"@id"},"issuanceDate":{"@id":"cred:issuanceDate","@type":"xsd:dateTime"},"proof":{"@id":"sec:proof","@type":"@id","@container":"@graph"},"refreshService":{"@id":"cred:refreshService","@type":"@id","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","cred":"https://www.w3.org/2018/credentials#","ManualRefreshService2018":"cred:ManualRefreshService2018"}},"termsOfUse":{"@id":"cred:termsOfUse","@type":"@id"},"validFrom":{"@id":"cred:validFrom","@type":"xsd:dateTime"},"validUntil":{"@id":"cred:validUntil","@type":"xsd:dateTime"}}},"VerifiablePresentation":{"@id":"https://www.w3.org/2018/credentials#VerifiablePresentation","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","cred":"https://www.w3.org/2018/credentials#","sec":"https://w3id.org/security#","holder":{"@id":"cred:holder","@type":"@id"},"proof":{"@id":"sec:proof","@type":"@id","@container":"@graph"},"verifiableCredential":{"@id":"cred:verifiableCredential","@type":"@id","@container":"@graph"}}},"EcdsaSecp256k1Signature2019":{"@id":"https://w3id.org/security#EcdsaSecp256k1Signature2019","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","sec":"https://w3id.org/security#","xsd":"http://www.w3.org/2001/XMLSchema#","challenge":"sec:challenge","created":{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},"domain":"sec:domain","expires":{"@id":"sec:expiration","@type":"xsd:dateTime"},"jws":"sec:jws","nonce":"sec:nonce","proofPurpose":{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","sec":"https://w3id.org/security#","assertionMethod":{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},"authentication":{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},"proofValue":"sec:proofValue","verificationMethod":{"@id":"sec:verificationMethod","@type":"@id"}}},"EcdsaSecp256r1Signature2019":{"@id":"https://w3id.org/security#EcdsaSecp256r1Signature2019","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","sec":"https://w3id.org/security#","xsd":"http://www.w3.org/2001/XMLSchema#","challenge":"sec:challenge","created":{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},"domain":"sec:domain","expires":{"@id":"sec:expiration","@type":"xsd:dateTime"},"jws":"sec:jws","nonce":"sec:nonce","proofPurpose":{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","sec":"https://w3id.org/security#","assertionMethod":{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},"authentication":{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},"proofValue":"sec:proofValue","verificationMethod":{"@id":"sec:verificationMethod","@type":"@id"}}},"Ed25519Signature2018":{"@id":"https://w3id.org/security#Ed25519Signature2018","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","sec":"https://w3id.org/security#","xsd":"http://www.w3.org/2001/XMLSchema#","challenge":"sec:challenge","created":{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},"domain":"sec:domain","expires":{"@id":"sec:expiration","@type":"xsd:dateTime"},"jws":"sec:jws","nonce":"sec:nonce","proofPurpose":{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","sec":"https://w3id.org/security#","assertionMethod":{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},"authentication":{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},"proofValue":"sec:proofValue","verificationMethod":{"@id":"sec:verificationMethod","@type":"@id"}}},"RsaSignature2018":{"@id":"https://w3id.org/security#RsaSignature2018","@context":{"@version":1.1,"@protected":true,"challenge":"sec:challenge","created":{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},"domain":"sec:domain","expires":{"@id":"sec:expiration","@type":"xsd:dateTime"},"jws":"sec:jws","nonce":"sec:nonce","proofPurpose":{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":true,"id":"@id","type":"@type","sec":"https://w3id.org/security#","assertionMethod":{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},"authentication":{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},"proofValue":"sec:proofValue","verificationMethod":{"@id":"sec:verificationMethod","@type":"@id"}}},"proof":{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"}}}')},322:function(e,t,i){},329:function(e,t,i){"use strict";i.r(t);var a=i(1),n=i.n(a),c=i(56),r=i.n(c),o=(i(220),i(221),i(9)),s=i.n(o),d=i(36),u=i(30),l=i(29),p=(i(223),i.p+"static/media/verify-certificate.29230f43.png"),h=i.p+"static/media/qr-code.0d1efb4c.svg",f=(i(224),i.p+"static/media/certificate-valid.6e8564be.svg"),b=i.p+"static/media/certificate-invalid.a9ac96af.svg",j=(i.p,i(108)),g=i(363),v=i(204),m=(i(225),i(5)),y=function(e){var t=e.children,i=e.className,a=Object(v.a)(e,["children","className"]);return Object(m.jsx)("button",Object(u.a)(Object(u.a)({className:"custom-button ".concat(i)},a),{},{children:t}))};var O={Name:{path:["credentialSubject","name"],format:function(e){return e}},"Vaccination Status":{path:["evidence","0"],format:function(e){return e.dose!==e.totalDoses?"Partially Vaccinated":"Fully Vaccinated"}}},x=i(104),w=i(105),S=i(58),k=i.n(S),M="ADD_EVENT",N="REMOVE_EVENT",U="valid-verification",E="invalid-verification",C="revoked-certificate",T={data:[]};var I=function(e){return{type:M,payload:Object(u.a)(Object(u.a)({},e),{},{date:(new Date).toISOString()})}},D=i(365);var V=i.p+"static/media/loading.68d0272c.gif",P=(i(248),function(){return Object(m.jsx)("div",{className:"loader-wrapper",children:Object(m.jsx)("img",{src:V})})}),R=i(249),L=i(91).RSAKeyPair,A=i(69).documentLoaders.node,B=i(111).contexts,K=i(319),X=i(320),q=X.vaccinationContext,F=X.vaccinationContextV2,J=function(e){console.log("checking "+e);var t={"did:india":j.certificatePublicKey,"https://example.com/i/india":j.certificatePublicKey,"https://w3id.org/security/v1":B.get("https://w3id.org/security/v1"),"https://www.w3.org/2018/credentials#":K,"https://www.w3.org/2018/credentials/v1":K,"https://cowin.gov.in/credentials/vaccination/v1":q,"https://cowin.gov.in/credentials/vaccination/v2":F}[e];return void 0===t&&(t=B[e]),void 0!==t?{contextUrl:null,documentUrl:e,document:t}:e.startsWith("{")?JSON.parse(e):(console.log("Fallback url lookup for document :"+e),A()(e))},_=function(e){var t=e.certificateData,i=e.goBack,n=e.graphData,c=Object(a.useState)(!1),r=Object(l.a)(c,2),o=r[0],p=r[1],h=Object(a.useState)(!1),v=Object(l.a)(h,2),w=v[0],S=v[1],M=Object(a.useState)({}),N=Object(l.a)(M,2),T=N[0],V=N[1];Object(D.a)();setTimeout((function(){try{k.a.post("/divoc/api/v1/events/",{date:(new Date).toISOString(),type:"verify"}).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}),100),Object(a.useEffect)((function(){if(w){var e=k.a.post("http://localhost:62399/api/VaccinationStatus",{employeeName:n.displayName,status:"Valid",email:n.mail});console.log(e)}}),[w]);var A=Object(x.b)();function B(e){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(s.a.mark((function e(i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.a.post("/divoc/api/v1/certificate/revoked",i).then((function(e){return A(I({type:C,extra:t})),e})).catch((function(e){return console.log(e),e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return e&&e.evidence?function(e){var t=e%10,i=e%100;return 1===t&&11!==i?e+"st":2===t&&12!==i?e+"nd":3===t&&13!==i?e+"rd":e+"th"}(e.evidence[0].dose):""}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(s.a.mark((function e(){var i,a,n,c,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Data: ".concat(t)),i=JSON.parse(t),a={"@context":R.SECURITY_CONTEXT_URL,id:"did:india",type:"RsaVerificationKey2018",controller:"https://cowin.gov.in/",publicKeyPem:j.certificatePublicKey},n={"@context":R.SECURITY_CONTEXT_URL,id:"https://cowin.gov.in/",publicKey:[a],assertionMethod:[a.id]},c=new L(Object(u.a)({},a)),r=R.purposes.AssertionProofPurpose,o=R.suites.RsaSignature2018,e.next=10,R.verify(i,{suite:new o({key:c}),purpose:new r({controller:n}),documentLoader:J,compactProof:!1});case 10:if(!e.sent.verified){e.next=23;break}return e.next=14,B(i);case 14:if(200===e.sent.response.status){e.next=23;break}return console.log("Signature verified."),S(!0),V(i),console.log("** Data: ".concat(JSON.stringify(i))),A(I({type:U,extra:i.credentialSubject})),p(!1),e.abrupt("return");case 23:A(I({type:E,extra:i})),S(!1),p(!1),e.next=34;break;case 28:e.prev=28,e.t0=e.catch(0),console.log("Invalid data",e.t0),S(!1),A(I({type:E,extra:t})),p(!1);case 34:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}p(!0),setTimeout((function(){!function(){e.apply(this,arguments)}()}),500)}),[]),o?Object(m.jsx)(P,{}):Object(m.jsxs)("div",{className:"certificate-status-wrapper",children:[Object(m.jsx)("img",{src:w?f:b,alt:"",className:"certificate-status-image"}),Object(m.jsx)("h3",{className:"certificate-status",children:w?"Certificate Successfully Verified":"Certificate Invalid"}),Object(m.jsx)("br",{}),w&&Object(m.jsx)("h5",{children:function(e){return e&&e.evidence?e.evidence[0].dose===(e.evidence[0].totalDoses||2)?"Final Certificate for COVID-19 Vaccination":"Provisional Certificate for COVID-19 Vaccination (".concat(X(e)," Dose)"):""}(T)}),w&&Object(m.jsx)("table",{className:"mt-3",children:Object.keys(O).map((function(e,t){var i=O[e],a=i.format(Object(g.a)("NA",i.path,T));return("NA"!==a||"NA"===a&&!i.optional)&&Object(m.jsxs)("tr",{style:{fontSize:"smaller",textAlign:"left"},children:[Object(m.jsx)("td",{className:"pr-3",children:e.replace("${dose}",X(T))}),Object(m.jsx)("td",{className:"font-weight-bolder value-col",children:a})]},t)}))}),Object(m.jsx)("br",{}),Object(m.jsx)(y,{className:"blue-btn m-3",onClick:i,children:"Verify Another Certificate"})]})},G=i(195),Q=i(196),W=i(205),z=i(203),H=(i(322),i(139));var Y=function(e){Object(W.a)(i,e);var t=Object(z.a)(i);function i(e){var a;return Object(G.a)(this,i),(a=t.call(this,e)).scanBarcode=Object(d.a)(s.a.mark((function e(){var t,i,n,c,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("canvas")).width=a.props.width,t.height=a.props.height,(i=t.getContext("2d")).drawImage(a.video,0,0,a.props.width,a.props.height),n=i.getImageData(0,0,t.width,t.height),e.next=8,Object(H.scanImageData)(n);case 8:for(c=e.sent,Object(H.scanImageData)(n),r=0;r<c.length;++r)o=c[r],a.props.onScan(o.decode());case 11:case"end":return e.stop()}}),e)}))),a.state={hasUserMedia:!1},a}return Object(Q.a)(i,[{key:"componentDidMount",value:function(){var e=this;(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&(i.mountedInstances.push(this),this.state.hasUserMedia||i.userMediaRequested||this.requestUserMedia(),i.scanTimer=setInterval((function(){e.scanBarcode()}),100))}},{key:"componentWillUpdate",value:function(e){JSON.stringify(e.videoConstraints)!==JSON.stringify(this.props.videoConstraints)&&this.requestUserMedia()}},{key:"componentWillUnmount",value:function(){clearInterval(i.scanTimer);var e=i.mountedInstances.indexOf(this);i.mountedInstances.splice(e,1),i.userMediaRequested=!1,0===i.mountedInstances.length&&this.state.hasUserMedia&&(this.stream.getVideoTracks&&this.stream.getAudioTracks?this.stream.getVideoTracks().map((function(e){return e.stop()})):this.stream.stop(),window.URL.revokeObjectURL(this.state.src))}},{key:"requestUserMedia",value:function(){var e=this;navigator.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var t=function(e){var t={video:e||!0};navigator.mediaDevices.getUserMedia(t).then((function(e){i.mountedInstances.forEach((function(t){return t.handleUserMedia(null,e)}))})).catch((function(e){i.mountedInstances.forEach((function(t){return t.handleUserMedia(e)}))}))};if("mediaDevices"in navigator)t(this.props.videoConstraints);else{MediaStreamTrack.getSources((function(i){var a=null;i.forEach((function(e){"video"===e.kind&&(a=e.id)}));var n=function(e){var t=(e||{}).deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null}(e.props.videoConstraints);n&&(a=n),t({optional:[{sourceId:a}]})}))}i.userMediaRequested=!0}},{key:"handleUserMedia",value:function(e,t){if(e)return this.setState({hasUserMedia:!1}),void this.props.onError(e);this.stream=t;try{this.video.srcObject=t,this.setState({hasUserMedia:!0})}catch(i){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{id:"videoview",children:[Object(m.jsx)("video",{autoPlay:!0,width:"100%",src:this.state.src,className:this.props.className,playsInline:!0,style:this.props.style,ref:function(t){e.video=t}}),Object(m.jsx)("canvas",{id:"overlay",width:this.props.width,height:this.props.height})]})}}]),i}(a.Component);Y.defaultProps={className:"",height:1e3,width:1e3,videoConstraints:{facingMode:"environment"}},Y.mountedInstances=[],Y.userMediaRequested=!1,Y.scanTimer=null;var Z=i(197),$=i.n(Z),ee=i(43),te=i(50),ie=i(140),ae=i(354),ne=i(355),ce=i(356),re=i.p+"static/media/hexagon.ccad253f.png",oe=i(83),se=i(353),de=Object(se.a)((function(e){var t;return{logo:{display:"inline",marginLeft:10},userDetail:(t={display:"flex"},Object(oe.a)(t,e.breakpoints.up("md"),{display:"flex"}),Object(oe.a)(t,"marginRight",10),t),topBar:{backgroundColor:"#0088ac",backgroundImage:"url(".concat("/validate-vaccine-certificate","/topbar.png)"),backgroundRepeat:"no-repeat",objectFit:"cover",backgroundSize:"1400px 100%",backgroundPosition:"center"}}})),ue=i(366),le=i(200),pe=i.n(le),he=function(){var e=Object(ee.d)().instance;return Object(m.jsx)(ae.a,{"aria-label":"logout",title:"Logout",color:"secondary",onClick:function(){e.logoutRedirect().catch((function(e){console.error(e)}))},children:Object(m.jsx)(pe.a,{})})},fe=function(e){var t=e.user,i=e.avatar,a=de();return Object(m.jsx)("div",{className:a.grow,children:Object(m.jsx)(ne.a,{position:"fixed",elevation:1,className:a.topBar,color:"default",children:Object(m.jsxs)(ce.a,{container:!0,justifyContent:"space-between",children:[Object(m.jsx)(ce.a,{item:!0,children:Object(m.jsx)("div",{className:a.logo,children:Object(m.jsx)("img",{src:re,style:{marginTop:"10px"},className:"banner-img",alt:"Hexagon Logo",width:"200"})})}),Object(m.jsx)(ce.a,{item:!0,children:Object(m.jsxs)("div",{className:a.userDetail,children:[Object(m.jsx)(ae.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",color:"inherit",children:Object(m.jsx)(ue.a,{alt:t.displayName,user:t.email,src:i})}),Object(m.jsx)(he,{})]})})]})})})},be=function(){var e=Object(ee.d)(),t=e.instance,i=e.accounts,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],o=c[1],f=Object(a.useState)(""),b=Object(l.a)(f,2),j=b[0],g=b[1],v=Object(a.useState)(!1),O=Object(l.a)(v,2),x=O[0],w=O[1],S=Object(a.useState)(null),k=Object(l.a)(S,2),M=k[0],N=k[1],U=Object(a.useState)(""),E=Object(l.a)(U,2),C=E[0],T=E[1],I=Object(u.a)(Object(u.a)({},te.b),{},{account:i[0]});Object(a.useEffect)((function(){t.acquireTokenSilent(I).then((function(e){T(e.accessToken),Object(ie.b)(e.accessToken).then((function(e){o(e)}))}))}),[]),Object(a.useEffect)((function(){null!==r&&function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)(C,r.userPrincipalName);case 2:t=e.sent,N(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[r]);return Object(m.jsxs)("div",{className:"container-fluid verify-certificate-wrapper",children:[r&&Object(m.jsx)(fe,{user:r,avatar:M}),!j&&Object(m.jsxs)("div",{children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),!x&&r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{className:"text-center",children:["Welcome ",r.displayName]}),Object(m.jsx)("img",{src:p,className:"banner-img",alt:"banner-img",height:"150"}),Object(m.jsx)("h5",{className:"text-center",children:"Verify vaccination certificate"}),Object(m.jsxs)(y,{className:"green-btn",onClick:function(){return w(!0)},children:[Object(m.jsx)("span",{children:"Scan QR code"}),Object(m.jsx)("img",{className:"ml-3",src:h,alt:""})]})]}),x&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Y,{onError:function(e){console.error(e)},onScan:function(e){e&&(new $.a).loadAsync(e).then((function(e){return e.files["certificate.json"].async("text")})).then((function(e){g(e)})).catch((function(t){g(e)}))}}),Object(m.jsx)(y,{className:"green-btn",onClick:function(){return w(!1)},children:"BACK"})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),j&&Object(m.jsx)(_,{certificateData:j,graphData:r,goBack:function(){w(!1),g("")}})]})},je=i(75),ge=Object(je.b)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(u.a)(Object(u.a)({},e),{},{data:[].concat(Object(w.a)(e.data),[Object(u.a)({id:e.data.length},t.payload)])});case N:return Object(u.a)(Object(u.a)({},e),{},{data:e.data.filter((function(e){return!t.payload.includes(e.id)}))});default:return e}}}),ve=(function(){try{var e=localStorage.getItem("state");if(null===e)return;JSON.parse(e)}catch(t){return}}(),Object(je.c)(ge,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),me=i(360),ye=i(359),Oe=i(358),xe=i(332),we=i(362),Se=i(201),ke=i.n(Se),Me=i(333),Ne=i(357),Ue=function(){return Object(m.jsxs)(Me.a,{variant:"body2",style:{color:"white"},align:"center",children:["Copyright \xa9 ",Object(m.jsx)(Ne.a,{color:"inherit",href:"https://hexagon.com/",children:"Hexagon"})," ".concat((new Date).getFullYear(),".")]})},Ee=Object(se.a)((function(e){return{root:{height:"100vh"},login:{backgroundColor:"#046080",backgroundSize:"cover",backgroundPosition:"center"},image:{backgroundImage:"url(".concat("/validate-vaccine-certificate","/login-bg.jpg)"),backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},logo:{boxShadow:"none"}}})),Ce=function(e){var t=Object(ee.d)().instance,i=Ee();return Object(m.jsxs)(ce.a,{container:!0,component:"main",className:i.root,children:[Object(m.jsx)(Oe.a,{}),Object(m.jsx)(ce.a,{item:!0,xs:!1,sm:4,md:7,className:i.image}),Object(m.jsx)(ce.a,{item:!0,xs:12,sm:8,md:5,component:xe.a,className:i.login,elevation:6,square:!0,children:Object(m.jsxs)("div",{className:i.paper,children:[Object(m.jsx)(ue.a,{className:i.avatar,children:Object(m.jsx)(ke.a,{})}),Object(m.jsx)(Me.a,{component:"h1",style:{color:"white"},variant:"h5",children:"Sign in"}),Object(m.jsx)("div",{className:i.logo,children:Object(m.jsx)("img",{src:re,width:200,alt:"logo"})}),Object(m.jsxs)("form",{className:i.form,noValidate:!0,children:[Object(m.jsx)(ye.a,{fullWidth:!0,variant:"contained",color:"primary",className:i.submit,onClick:function(){!function(e){e.loginRedirect(te.b).catch((function(e){console.error(e)}))}(t)},children:"Login with Hexagon"}),Object(m.jsx)(we.a,{mt:5,children:Object(m.jsx)(Ue,{})})]})]})})]})},Te=i(202),Ie=Object(Te.a)({palette:{primary:{light:"#4ec53a",main:"#52B18E",contrastText:"#ffffff"},secondary:{main:"#f7941e",contrastText:"#ffffff"}},typography:{button:{textTransform:"none",main:"#4ec53a"}}});var De=function(){return Object(m.jsx)(me.a,{theme:Ie,children:Object(m.jsxs)(x.a,{store:ve,children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(be,{})}),Object(m.jsx)(ee.c,{children:Object(m.jsx)(Ce,{})})]})})},Ve=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,367)).then((function(t){var i=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;i(e),a(e),n(e),c(e),r(e)}))},Pe=(i(328),new(i(361).a)(te.c));r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(ee.b,{instance:Pe,children:Object(m.jsx)(De,{})})}),document.getElementById("root")),Ve()},50:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return c}));var a={auth:{clientId:"08411a04-4a58-4b99-b77a-18666beeac96",authority:"https://login.microsoftonline.com/1b16ab3e-b8f6-4fe3-9f3e-2db7fe549f6a/",redirectUri:window.location.origin+"/validate-vaccine-certificate",socketUri:"localhost"===window.location.hostname?"http://localhost:3000/validate-vaccine-certificate":window.location.origin+"/validate-vaccine-certificate"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},n={scopes:["User.Read"]},c={graphMeEndpoint:"https://graph.microsoft.com/v1.0/me",graphUserAvatarEndpoint:"https://graph.microsoft.com/v1.0/me/photo/$value"}},73:function(e,t){},81:function(e,t){}},[[329,1,2]]]);
//# sourceMappingURL=main.ed67318e.chunk.js.map